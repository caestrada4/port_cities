<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="site_manager.project_project_form_inherit_site_fields" model="ir.ui.view">
        <field name="name">project.project.form.inherit.site.fields</field>
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project.edit_project" />
        <field name="arch" type="xml">
            <xpath expr="//sheet//group" position="inside">
                <group string="Site extra">
                    <field name="deadline_date" />
                    <field name="budget" />
                    <field name="project_size" />
                    <field name="stage_site_id" options="{'no_create': False}" />
                </group>
            </xpath>
        </field>
    </record>

    <record id="site_manager.project_project_tree_inherit_site_fields" model="ir.ui.view">
        <field name="name">project.project.tree.inherit.site.fields</field>
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project.view_project" />
        <field name="arch" type="xml">
            <xpath expr="//tree" position="inside">
                <field name="stage_site_id" options="{'no_open': True}" />
                <field name="deadline_date" />
                <field name="budget" />
            </xpath>
        </field>
    </record>


    <record id="site_manager.open_view_project_all" model="ir.actions.act_window">
        <field name="name">Sites</field>
        <field name="res_model">project.project</field>
        <field name="view_mode">tree,form,kanban</field>
        <field name="view_id" ref="project.view_project" />
        <field name="context">{'form_view_initial_mode': 'edit'}</field>
    </record>

    <record id="site_manager.open_view_project_by_stage_action" model="ir.actions.act_window">
        <field name="name">Sites (by Stage)</field>
        <field name="res_model">project.project</field>
        <field name="view_mode">kanban,tree,form</field>
        <field name="view_id" ref="project.view_project_kanban"/>
        <field name="context">{'form_view_initial_mode': 'edit', 'group_by': 'stage_site_id'}</field>
    </record>

</odoo>
